Ceph的基本组件有 Monitor、OSD、Metadata(Filesystem)
Ceph以Pool来划分不同用途的存储，在Pool中以pg为存储单元，OSD为存储块。每个OSD上可以划分为多个pg，每个pg中可以存放多个对象。集群利用CRUSH算法将大文件分割成一个个Object放入pg中，并按照Pool的设定对其创建相应的副本。pg数是Pool的规定，只能增，不能减。pg数量决定OSD负载。
在计算pg的时候，要考虑到一个OSD上可能有多个Pool，并且还要考虑到作为OSD的磁盘性能，SAS和SSD的pg设置不同的。
在设置pg数的时候，pgp数应该与pg数相等，间接理解pgp的值决定有效pg的数量。
OSD的稳定性和性能是依赖与底层文件系统，为了保证其数据安全性，只有当OSD节点数据真正落盘以后，才会返回写入成功。因此要关闭硬盘的写缓冲。




Ceph 创建集群：
	第一步：需要配置Ceph源
	```#ceph-release ceph 的版本，如jewel，hammer等
    #distro 系统的版本 el7 el6等
    [ceph]
    name=Ceph packages for $basearch
    baseurl=https://download.ceph.com/rpm-{ceph-release}/{distro}/$basearch
    enabled=1
    priority=2
    gpgcheck=1
    gpgkey=https://download.ceph.com/keys/release.asc
    [ceph-noarch]
    name=Ceph noarch packages
    baseurl=https://download.ceph.com/rpm-{ceph-release}/{distro}/noarch
    enabled=1
    priority=2
    gpgcheck=1
    gpgkey=https://download.ceph.com/keys/release.asc
    [ceph-source]
    name=Ceph source packages
    baseurl=https://download.ceph.com/rpm-{ceph-release}/{distro}/SRPMS
    enabled=0
    priority=2
    gpgcheck=1
    gpgkey=https://download.ceph.com/keys/release.asc
    ```
Ceph增加Mon几个步骤:
	1.拿取Ceph-Cluster-Client-admin-keyring
	2.从集群获取Ceph-mon-keyring		-----> ceph auth get mon. -o xxx
	3.从集群获取monmap                      -----> ceph mon getmap -o xxxx
	4.创建mon的数据目录                     -----> mkdir /var/lib/ceph/mon/ceph-{mon-id}
	5.格式化数据目录			-----> ceph-mon -i {mon-id} --mkfs --monmap xxxx --keyring xxx 
	6.启动Monitor daemon/或者修改ceph配置文件指定 mon addr或者通过# ceph-mon -i {mon-id} --public-addr {ip:port}命令
