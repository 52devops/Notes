## 概念
**SSL(secure socket layer)**
**TLS(transport layer security)**
> 互联网最初没有安全性可言，现在的安全全部依赖于外加的加密协议
- TLS四个主要目标
  - 加密安全 
  - 互操作性
>> 能够通过通用的加密参数开发程序和库
  - 可拓展性
>> TLS是一种能高效开发和部署加密协议的框架。
  - 效率
SSL/TLS工作在表示层<br>
PKI是SSL/TLS依赖用以防止伪装攻击的架构<br>

- 非对称加密

## 基块
> 在最底层，使用密码加密依赖于各种**加密基元**。加密基元其实就是加密手段
### 对称加密/私钥加密
使用同一私钥对数据进行加密解密。
- 序列密码
```
将1字节明文加密，输出1字节密文。直到处理完所有数据
序列密码核心就是 生成一串名为 秘钥序列 的无穷序列。
加密就是将数据中的每一个字节与秘钥序列中的1字节进行异或操作
解密则反之。这种加密方式只要无法预测到秘钥序列与数据的对应位即可
为了防止使用规定俗称的一些字段作为参考来反推。一般序列密码都从
长期秘钥中提取出来的一次性秘钥一同使用。
```
- 分组密码
```
每次加密一整块数据。只要使用相同秘钥对相同输入进行处理，有唯一输出。
分组密码关键特性是在输入上进行小改变：改变一位数据
限制：只能加密长度等于加密块大小的数据。对大小不符合要求的需要再处理
```
- 填充
```
解决分组密码处理数据时，数据长度不够的问题。
为了识别填充位。填充的最后一位放入填充的位数，并且每一位填充值都与这个值相等
```
### 散列函数
散列函数就是hash，将任意长度的输入转化为固定长度的输出
- 特性
  - 抗原相性(单向性)
>> 从散列不能逆推源数据
  - 抗第二元象性
>> 无法生成相同的散列值
### 消息验证代码
> hash能够验证数据完整性，但必须将散列和数据本身分开传递，否则可能同时修改两者。
消息验证代码(message authentication code.MAC)以身份验证扩展散列函数的密码学函数。
与散列函数相辅相成，依赖于散列函数。
HMAC本质是将散列密钥和消息以一种安全方式交织在一起
### 分组密码模式
> 分组密码的加强版，可以处理任意长度的数据。
### 非对称模式加密/公钥加密
> 使用两个密钥。速度较慢，不适合大规模数据的加密。一般公钥只用来验证身份和协商连接。
拥有公钥可以加密，只有拥有对应私钥的人才能解密。还可以使用其他人的私钥对公钥加密的数据进行签名，就会知晓发送人信息
### 数字签名
用来验证电子信息或其他数据的真实性。经常借助公钥密码的私钥进行签名，来证明出处。用对应公钥<br>
来解密读取。
- 数字签名
```
1.计算希望签名文档数据的散列(hash)。输出的长度受算法影响
2.对散列输出的结果和一些额外拓展的元数据进行编码。
3.使用私钥加密编码过的数据。其输出文件就是签名。可以放在文档中作身份证明
验证签名时，接收方接收文档并使用相同的散列计算文档散列，然后使用公钥对消息解密。将加密的散列解密出来进行对比确认散列算法及散列值。
```
> 并非所有算法都可以即签名又加密。RSA可以，DSA和ECDSA依赖其他方式签名

## 攻击
一般攻击的方式分为几种
- 主动攻击
改变数据流或影响双方会话<br>
功能强大，但条件设备需要较高。比如远程身份验证系统
- 被动攻击
监听连接两端的会话<br>
对未加密流量最有用，就算加密数据虽然现在现在破解难度到达也可以存储起来，在未来破解<br>
RSA是最常见的算法，它不具有**前向保密**。因为私钥不变，能够解密所有过去的会话。其他秘钥不存在该问题。

RSA最为通用，但机密效果一般，2048位的密钥(只有112用于加密)加密效果比ECDSA安全性弱、性能差<br>
除此之外RSA的性能开销不与长度成线性增长，使用更高位性能损耗严重<br>
DSA位数不够不安全，最大长度只能为1024<br>
ECDSA密钥，安全性和效果好但还不够普及。256位的ECDSA其中128位用于加密<br>
> 低于112位强度密钥是不安全的。RSA1024位的加密强度为112位强度。
